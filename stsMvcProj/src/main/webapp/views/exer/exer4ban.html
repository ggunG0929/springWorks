<!DOCTYPE html>
<!-- 타임리프 적용 -->
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Exer4/ban</title>
<script type="text/javascript">
	// 자바스크립트로 정렬기준 변경
	function sortChange(){
		sortForm.submit();
	}
</script>
</head>
<body>
<h1>Exer4/ban</h1>
<table border="" style="border-collapse: collapse">
	<tr>
		<!-- 헤더 영역 -->
		<td width="500px">
			<table width="100%">
				<tr align="center">
					<td th:each="md : ${hNav}">
						<!-- 파라미터로 maindata의 url부분을 보냄 -->
						<a th:href="|?sn=${md.url}|" th:text="${md.txt}" />
					</td>
				</tr>
			</table>
		</td>
		<!-- 헤더 영역 끝 -->
	</tr>
	<tr>
		<!-- 메인 영역 -->
		<td>
			<!-- 자바스크립트 적용을 위해 id부여 -->
			<form id="sortForm" method="post" action="">
				<table border="" style="border-collapse: collapse" width="100%">
					<tr>
						<td colspan="8">정렬기준:
							<select name="sort" onchange="sortChange()">
        						<option value="입력" th:text="입력순" th:selected="${mainCt.sort == '입력'}" />
						        <option value="이름" th:text="이름순" th:selected="${mainCt.sort == '이름'}" />
        						<option value="성적" th:text="성적순" th:selected="${mainCt.sort == '성적'}" />
							</select>
						</td>
					</tr>
					<tr>
						<td>반</td>
						<td>이름</td>
						<td>국어</td>
						<td>수학</td>
						<td>영어</td>
						<td>총점</td>
						<td>평균</td>
						<td>등수</td>
					</tr>
					<tr th:each="st : ${mainCt.studs}">
						<td>[[${st.ban}]]</td>
						<td>[[${st.name}]]</td>
						<td th:each="i : ${#numbers.sequence(0, 2)}">
							[[${st.jumsu[i]}]]
						</td>
						<td>[[${st.tot}]]</td>
						<td>[[${st.avg}]]</td>
						<td>[[${st.rank}]]</td>
					</tr>
					<tr>
						<td colspan="8" align="right"><a href="">학생추가</a></td>
					</tr>
				</table>
			</form>
		</td>
		<!-- 메인 영역 끝 -->
	</tr>
	<tr>
		<!-- 푸터 영역 -->
		<td align="center">&copy[[${fTxt}]]</td>
		<!-- 푸터 영역 끝 -->
	</tr>	
</table>
</body>
</html>